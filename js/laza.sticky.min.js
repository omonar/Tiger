!function(s,t){"use strict";s.fn.sticky=function(a){a=s.extend({stickyClass:"sticky",firstClass:"st-first",topClass:"st-top",bottomClass:"st-bottom",placeholderClass:"st-placeholder",watch:".thumbnails"},a);var o="lst_"+Math.floor(1e4*Math.random()),i=new Array,e=-999,r=function(t){var o=0;return s("."+a.stickyClass+"."+t).each(function(){o+=s(this).outerHeight()}),o},l=function(t){var o=s("[data-sticky-rel="+i[t].id+"]"),e=s("#"+i[t].id);o.length&&o.hasClass(a.stickyClass)&&(e.height(0),o.removeClass(a.stickyClass+" "+a.topClass+" "+a.bottomClass))},n=function(){var o,n=t.scrollTop(),h=t.outerHeight(),c=s(a.watch+":visible");if(!(Math.abs(n-e)<=2)){if(!c.length||(o=c.position().top)>n+h-100||o+c.outerHeight(!0)<=n+100)!function(){for(var s=0;s<i.length;s++)l(s)}();else for(var C,d,m,p=0;p<i.length;p++)C=s("[data-sticky-rel="+i[p].id+"]"),d=s("#"+i[p].id),C.length&&d.length&&((m=d.position().top)+i[p].height-i[p].marginBottom>n+h||m+i[p].marginBottom<n?C.hasClass(a.stickyClass)||(d.height(i[p].height),C.addClass(a.stickyClass),m+i[p].marginBottom<n?((m=r(a.topClass))?C.removeClass(a.firstClass).css("top",m):C.addClass(a.firstClass),C.addClass(a.topClass).removeClass(a.bottomClass)):((m=r(a.bottomClass))?C.removeClass(a.firstClass).css("bottom",m):C.addClass(a.firstClass),C.addClass(a.bottomClass).removeClass(a.topClass))):l(p));return!0}};return this.each(function(t){var e=s(this),r=e.children().first(),l=o+"_"+t;e.before(s("<div>",{id:l,class:a.placeholderClass})),e.attr("data-sticky-rel",l),i[t]={id:l,height:e.outerHeight(!0),marginTop:(parseInt(r.css("margin-top"))||0)+(parseInt(e.css("padding-top"))||0),marginBottom:(parseInt(r.css("margin-bottom"))||0)+(parseInt(e.css("padding-top"))||0)}}),s(this).on("stickyRefresh",function(){e=-999,n()}),t.on("scroll."+o+" resize."+o,n),n(),this}}(jQuery,jQuery(window));