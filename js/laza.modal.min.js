!function(e,t,o){"use strict";e.fn.modal=function(n,a,l){if("string"==typeof n&&(n=e(document.createTextNode(n))),n instanceof e&&n.length){Array.isArray(a)||(l=a,a=null),l=e.extend({},e.fn.modal.defaults,l);var d,s,i,c,r=e(this),f=getTranslations(e.fn.modal.text),u=!1,p="lmo_"+Math.floor(1e4*Math.random()),h=null,m=function(){return h=clearTimeout(h),d.destroyAllTooltips(),d.fadeOut(l.speed,function(){u?d.hide().css("opacity",1):d.remove(),t.off("."+p)}),o.removeClass("has-modal"),!1};return function(){if(e.contains(document.documentElement,n[0]))s=(d=n).children().eq(0),i=s.find(".close").eq(0),c=s.find(".content").eq(0),u=!0;else if(d=e("<div>",{class:"modal"}).appendTo(r),s=e("<div>",{class:"window "+(l.class||""),role:"dialog"}).appendTo(d),(i=e("<a>",{class:"btn close",title:f.closeWindow}).appendTo(s)).addTooltip(),c=e("<div>",{class:"content scrollable"}).appendTo(s),l.title&&s.addClass("has-header").prepend(e("<header>",{text:l.title})),c.append(n.show()),a){var t,p,h=e("<div>",{class:"buttons"}).appendTo(c),y=function(e){e.preventDefault();var t=e.target;return typeof t.handler===FUNCTION&&!1!==t.handler.call(this)&&m(),!1};for(t=0;t<a.length;t++)p=e("<button>",{class:"button "+(a[t].c||""),html:" "+a[t].t}).on("click",y).appendTo(h),typeof a[t].h===FUNCTION&&(p[0].handler=a[t].h)}d.hide().css("opacity",1).fadeIn(l.speed),o.addClass("has-modal"),d.on("destroy",m),d.on("close",m),i.add(d).on("click",function(e){e.target===this&&(typeof l.onClose===FUNCTION&&l.onClose.call(this),m())})}(),l.autoFade&&(h=setTimeout(m,l.autoFade)),this}},e.fn.modal.defaults={speed:300,autoFade:0,width:400,type:"normal"},e.fn.modal.text={closeWindow:"Close window"}}(jQuery,jQuery(window),jQuery("body"));