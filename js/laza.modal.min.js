!function(e,t,o){"use strict";e.fn.modal=function(n,a,s){if("string"==typeof n&&(n=e(document.createTextNode(n))),n instanceof e&&n.length){e.isArray(a)||(s=a,a=null),s=e.extend({},e.fn.modal.defaults,s);var l,d,i,c,r=e(this),u=getTranslations(e.fn.modal.text),h=!1,f="lmo_"+Math.floor(1e4*Math.random()),p=null,m=null,T=function(){c.css({overflow:"auto",maxHeight:.8*t.height()-(d.hasClass("has-header")?i.height():0)})},v=function(){return p=clearTimeout(p),l.destroyAllTooltips().fadeOut(s.speed,function(){h?l.hide().css("opacity",1):l.remove(),t.off("."+f)}),o.removeClass("has-modal"),!1};return function(){if(e.contains(document.documentElement,n[0]))d=(l=n).children().eq(0),i=d.find(".close").eq(0),c=d.find(".content").eq(0),h=!0;else if(l=e("<div>",{class:"modal"}).appendTo(r),d=e("<div>",{class:"window "+(s.class||""),role:"dialog"}).appendTo(l),(i=e("<a>",{class:"btn close",title:u.closeWindow}).appendTo(d)).addTooltip(),c=e("<div>",{class:"content"}).appendTo(d),s.title&&d.addClass("has-header").prepend(e("<header>",{text:s.title})),c.append(n.show()),a){var t,f,p=e("<div>",{class:"buttons"}).appendTo(c),m=function(t){t.preventDefault();var o=t.target;return e.isFunction(o.handler)&&!1!==o.handler.call(this)&&v(),!1};for(t=0;t<a.length;t++)f=e("<button>",{class:"button "+(a[t].c||""),html:" "+a[t].t}).on("click",m).appendTo(p),e.isFunction(a[t].h)&&(f[0].handler=a[t].h)}l.hide().css("opacity",1).fadeIn(s.speed),o.addClass("has-modal"),l.on("destroy",v),l.on("close",v),i.add(l).on("click",function(t){t.target===this&&(e.isFunction(s.onClose)&&s.onClose.call(this),v())}),T()}(),s.autoFade&&(p=setTimeout(v,s.autoFade)),t.on("resize."+f,function(){clearTimeout(m),m=setTimeout(T,20)}),this}},e.fn.modal.defaults={speed:300,autoFade:0,width:400,type:"normal"},e.fn.modal.text={closeWindow:"Close window"}}(jQuery,jQuery(window),jQuery("body"));