!function(t,e,a,n){"use strict";t.fn.rangeSlider=function(e){e=t.extend({},t.fn.rangeSlider.defaults,e);var a=function(t){return t.touches&&1===t.touches.length?Math.round(t.touches[0].pageX):null!==t.pageX?Math.round(t.pageX):null};return this.each(function(){if(this["data-rangeslider-id"])return!0;var o,r,s,i,l,u,d,h,p=t(this),c=t(),f=t(),g="lrs_"+Math.floor(1e4*Math.random()),m=t(),y=t(),v=e.min||this.min||0,C=e.max||this.max||100,w=e.step||this.step,E=e.low||v,M=e.high||C,T=e.type||("date"===this.type?"date":"number"),N=function(t){return t>C-h/2?C:v+Math.round((t-v)/h)*h},b=function(t){return"date"===T?new Date(1e3*t).toLocaleDateString():"numeric"===T?"seconds"===e.unit?niceTime(t):"byte"===e.unit?niceByte(t):t>=10||t>=w?Math.round(t):t>=1?t.toFixed(1):t>=.1?t.toFixed(2):t:toCurrency(t,e.currency)},D=function(t){return(t-v)/(C-v)*100},U=function(t){typeof t!==UNDEF&&(E=h?N(t):t);var e=D(E);r.style.left=e+"%",o.style.left=e+"%",m.html(b(E)),p.data("low",E).attr("data-low",E)},x=function(t){typeof t!==UNDEF&&(M=h?N(t):t);var e=D(M);s.style.left=e+"%",o.style.right=100-e+"%",y.html(b(M)),p.data("high",M).attr("data-high",M)},F=function(e){return!!(e.originalEvent.touches&&e.originalEvent.touches.length>1||"mousedown"===e.type&&1!==e.which)||("touchstart"!==e.type&&e.preventDefault(),p.data("dragEnded",!1),i=this,l=a(e.originalEvent),u=this===r?E:M,d=c.width()/(C-v),"mousedown"===e.type?n.on("mousemove."+g,O).on("mouseup."+g,R):"pointerdown"===e.type&&n.on("pointermove."+g,O).on("pointerup."+g,R),t(r).add(t(s)).removeClass("last-touch"),t(this).addClass("moving last-touch"),p.closest("form").find(".rangeslider").removeClass("focus"),c.addClass("focus"),"touchstart"===e.type)},O=function(t){if(t.originalEvent.touches&&t.originalEvent.touches.length>1)return!0;t.preventDefault();var e=(a(t.originalEvent)-l)/d;return i===r?U(Math.minMax(v,u+e,M)):x(Math.minMax(E,u+e,C)),!1},R=function(a){if(p.data("dragEnded"))return!0;a.preventDefault(),p.data("dragEnded",!0),t(i).removeClass("moving"),"mouseup"===a.type||"mouseout"===a.type?n.off("mousemove."+g+" mouseup."+g+" mouseout."+g):"pointerup"===a.type&&n.off("pointermove."+g+" pointerup."+g),e.hasOwnProperty("onChanged")&&typeof e.onChanged===FUNCTION&&(i===r&&p.data("low")>v||p.data("high")<C)&&e.onChanged.call(p),e.hasOwnProperty("onReseted")&&typeof e.onReseted===FUNCTION&&p.data("low")===v&&p.data("high")===C&&e.onReseted.call(p)},S=function(t){return t.preventDefault(),!1};p.add(n).off("."+g),p.data("lrs_ns",g),c=t("<div>",{class:e.className+" type-"+T}).insertAfter(p),p.hide().attr({"data-low":e.low||v,"data-high":e.high||C,min:v,max:C}),typeof e.unit!==UNDEF&&e.unit&&p.attr("unit",e.unit),typeof w!==UNDEF&&w?h=w:(h=Math.pow(10,Math.floor(Math.log10((C-v)/100))),p.attr("step",h),w=Number.MAX_SAFE_INTEGER),c.append(t("<span>",{class:"min-val",html:b(v)})).append(t("<span>",{class:"max-val",html:b(C)})),f=t("<div>",{class:e.railClass}).appendTo(c),o=t("<div>",{class:e.rangebarClass}).appendTo(f)[0],r=t("<button>",{class:"low"}).appendTo(f)[0],m=t("<span>",{class:e.tooltipClass}).appendTo(r),U(),s=t("<button>",{class:"high"}).appendTo(f)[0],y=t("<span>",{class:e.tooltipClass}).appendTo(s),x(),t(r).add(t(s)).attr("draggable","false").on("click."+g,S).on(TOUCH.START+"."+g+" dragstart."+g+" mousedown."+g,F).on(TOUCH.MOVE+"."+g+" drag."+g,O).on(TOUCH.END+"."+g,R),p.on("removeRangeSlider."+g,function(){p.add(n).off("."+g)}).on("resetRange."+g,function(t){return U(v),x(C),!1}).on("selectstart."+g,S)})},t.fn.rangeSlider.defaults={className:"rangeslider",railClass:"rail",rangebarClass:"range-bar",tooltipClass:"number",currency:"EUR",unit:"",throttle:1500}}(jQuery,jQuery(window),jQuery("body"),jQuery(document));