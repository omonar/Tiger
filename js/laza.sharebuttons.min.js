!function(t){"use strict";t.fn.renderShares=function(e){e=t.extend({},t.fn.renderShares.defaults,e);var a=t(this),i=getTranslations({share:"Share",shareOn:"Share on",checkThisOut:"Found this page",localWarning:"Can't share local albums. Please upload your album first!"}),n=encodeURIComponent(e.callAction||i.checkThisOut),r=(e.label||i.share,function(i,r){if((r=typeof r!==UNDEF?t.extend({},e,r):e).hasOwnProperty("href")||(r.href=window.location.href),r.hasOwnProperty("description")?r.description=r.description.stripHTML():r.description=t("meta[name=description]").attr("content")||"",r.hasOwnProperty("title")?r.title=r.title.stripHTML():r.title=t("meta[name=title]").attr("content")||t("title").text()||"",!r.hasOwnProperty("image")){var s=t("link[rel=image_src]");r.image=s.length?s.attr("href"):window.location.href.getDir()+"folderthumb.jpg"}r.image.startsWith("http")||(r.image=window.location.href.getDir()+r.image);var o,l=encodeURIComponent(r.href),c=encodeURIComponent(r.title),d=encodeURIComponent(r.description),p=encodeURIComponent(r.image);a.find("."+e.className+" a").each(function(){var e=t(this);switch(e.data("share")){case"facebook":if(r.href.indexOf("#")>0)return;if(typeof FB!==UNDEF)return void e.off(".share").on("click.share",function(){return FB.ui({method:"feed",link:r.href,caption:r.title,description:r.description,picture:r.image}),!1});o="https://www.facebook.com/sharer.php?s=100&p%5Burl%5D="+r.href+"&p%5Bimages%5D%5B0%5D="+r.image+"&p%5Btitle%5D="+c;break;case"twitter":o="https://twitter.com/home?status="+c+": "+l;break;case"tumblr":o="https://www.tumblr.com/share/link?url="+l+"&name="+c;break;case"pinterest":o="https://pinterest.com/pin/create/button/?url="+l+"&media="+p+"&description="+c;break;case"linkedin":o="https://www.linkedin.com/shareArticle?mini=true&url="+l+"&title="+c+"&summary="+d;break;case"digg":o="https://digg.com/submit?url="+r.href;break;case"stumbleupon":o="https://www.stumbleupon.com/submit?url="+r.href+"&title="+c;break;case"reddit":o="https://www.reddit.com/submit?url="+r.href;break;case"email":e.attr({href:"mailto:?subject="+n+"&body="+c+"%0D%0A"+d+"%0D%0A"+encodeURI(r.href)});default:return}e.attr({href:o,target:"_blank"})})});return function(n){for(var s,n=t("<div>",{class:e.className}).appendTo(a),o=e.sites.split(","),l=0;l<o.length;l++)s=o[l],"facebook,twitter,tumblr,pinterest,linkedin,digg,stumbleupon,reddit,email".indexOf(s)>=0&&n.append(t("<a>",{class:e.buttonClassName+" icon-"+s.unCamelCase(),title:i.shareOn+" "+s.capitalize(),text:" "+(e.buttonLabels?s.capitalize():"")}).data("share",s));r(),n.children("a").addTooltip()}(),e.hasOwnProperty("buttons")&&!LOCAL&&function(){for(var i=e.buttons.split(","),n=encodeURIComponent(window.location.href.split("#")[0]),r=encodeURIComponent(e.title||t("meta[name=title]").attr("content")||t("title").text()),s=e.image?window.location.href.getDir()+encodeURIComponent(e.image):t("link[rel=image_src]").attr("href"),o=t("<div>",{class:e.buttonsClassName}).appendTo(a),l=0;l<i.length;l++)switch(i[l]){case"facebook":o.append('<div class="likebtn fb-like" data-href="'+n+'" data-layout="button_count" data-action="like" data-size="large" data-show-faces="false" data-share="false"></div>');break;case"twitter":o.append('<a class="likebtn twitter-share-button icon-twitter" href="https://twitter.com/intent/tweet?text='+r+"&url="+n+'" data-size="large" target="_blank"> Tweet</a>');break;case"pinterest":o.append('<div class="likebtn"><a data-pin-do="buttonPin" data-pin-count="beside" data-pin-tall="true" data-pin-save="true" href="https://www.pinterest.com/pin/create/button/?url='+n+"&media="+s+"&description="+r+'" data-pin-do="buttonPin"></a></div>')}}(),a.closest(".modal").length&&a.find("."+e.className+" a").on("click",function(){return t(this).closest(".modal").trigger("close"),!0}),a.on("updateLinks",r),this},t.fn.renderShares.defaults={buttonLabels:!0,className:"shares",buttonsClassName:"buttons",buttonClassName:"button",sites:"facebook,twitter,tumblr"}}(jQuery);