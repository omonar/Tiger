!function(t,o){"use strict";t.fn.hideAllTooltips=function(o){return this.each(function(){t(this).data("suppressTooltips",!0).find("[data-tooltip-id]").each(function(){if(!t(this).data("tooltip-keep")){var e=t(this).attr("data-tooltip-id");e&&e.length&&e!==o&&t("#"+e).hide()}})})},t.fn.destroyAllTooltips=function(o){return this.each(function(){t(this).data("suppressTooltips",!0).find("[data-tooltip-id]").each(function(){var e=t(this).attr("data-tooltip-id");e&&e.length&&e!==o&&t("#"+e).remove()})})},t(document).on("mouseleave._ltt_",function(){o.hideAllTooltips()}),t.fn.addTooltip=function(e,i){typeof e===UNDEF||"string"==typeof e||e.jquery||(i=e,e=null),i=t.extend({},t.fn.addTooltip.defaults,i);var a=function(o){if(typeof o!==UNDEF&&o&&o.length){if(o.is(":hidden")||o.css("opacity")<.25)return!1;var e=!0;return o.parents().each(function(){if(t(this).is(":hidden")||t(this).css("opacity")<.25)return e=!1,!1}),e}return!0};return this.each(function(){if(this["data-tooltip-id"])return!0;var n,s,l,u,r,d=t(this),p=!1,c=!1,f=!1,h="_ltt_"+Math.floor(1e4*Math.random()),T=function(o){a(t(this))&&(clearTimeout(l),l=null,p=!0)},m=function(t){c||(p=!1,clearTimeout(l),l=setTimeout(y,Math.min(i.stay||100)))},y=function(){p||(f=!1,clearTimeout(s),clearTimeout(l),s=l=null,n&&n.css({opacity:0}).one("transitionend",function(){t(this).css({display:"none"})}))},v=function(){var e=d.offset();d.data("suppressTooltips")||(l=clearTimeout(l),(!u||Math.abs(e.top-u.top)<1&&Math.abs(e.left-u.left)<1)&&(i.exclusive&&(d.data("tooltip-keep",!0),o.hideAllTooltips(d.data("tooltip-id")),d.data("tooltip-keep",null)),n.css({opacity:0,display:"block"}).alignTo(d,{gap:i.gap,pos:i.pos}).css({opacity:1}).one("transitionend",function(){t(this).css({display:"block"}),clearTimeout(l),l=setTimeout(y,i.stay)}),f=!0),u=e)},g=function(){return!!n&&n.is(":visible")&&n.css("opacity")>.99},b=function(o){d.off("."+h),s=clearTimeout(s),l=clearTimeout(l),d.data("suppressTooltips",!0),t("#"+d.attr("data-tooltip-id")).remove(),d.attr("data-tooltip-id",null)};d.attr("data-tooltip-id",h).data("suppressTooltips",!1).on("destroyTooltip",b).on("removeTooltip",y).on("focus."+h+" mouseenter."+h,function(o){if(!d.data("suppressTooltips")&&a(t(o.target).closest("[data-tooltip-id]"))){if(f=g(),r=new Date,u=d.offset(),(n=t("#"+d.data("tooltip-id"))).length)clearTimeout(l),l=null;else if(d.data("suppressTooltips")||!(n=function(o,e){var a;if(e)if("string"==typeof e)a=t("<div>",{html:e}).appendTo("body");else{if(!e.jquery)return null;a=t.contains(document.body,e[0])?e:e.appendTo("body")}else{if((e=o.data("tooltip"))?e.jquery?e.removeClass("hidden"):"."===e.charAt(0)?e=o.find(e).eq(0):"#"===e.charAt(0)&&(e=t(e)):(e=o.attr("title"),o.removeAttr("title")),!e||!e.length)return null;a=t("<div>",{html:e}).appendTo("body")}return a.is(":empty")?null:(a.attr("id",o.attr("data-tooltip-id")).addClass(i.className).attr("role","tooltip").attr("aria-hidden",!0).hide().append(t("<span>",{class:i.nub})),a)}(d,e))||(n.on("mouseover."+h,T).on("mouseout."+h,m),n.find("input, textarea").on("focus."+h,function(){c=!0,T(this)}).on("blur."+h,function(){c=!1}),0))return b(),!0;clearTimeout(s),s=null,"mouse"===whatInput.ask("intent")&&(s=setTimeout(v,i.delay))}return!0}).on("blur."+h+" mouseleave."+h,function(o){a(t(o.target).closest("[data-tooltip-id]"))&&(clearTimeout(l),l=null,l="mouse"===whatInput.ask("intent")?setTimeout(y,100):setTimeout(y,3e3))}).on("click."+h,function(o){if(a(t(o.target).closest("[data-tooltip-id]"))){if(clearTimeout(s),s=null,i.touchToggle||"mouse"!==whatInput.ask("intent")){var e=new Date;if(i.touchToggle||e-r>1e3)return!(!function(e){var i=t(o.target).closest("a");return i.length&&i.attr("href")&&!i.attr("href").startsWith("javascript")}()||!g())||(function(t){t.preventDefault(),clearTimeout(s),clearTimeout(l),s=l=null}(o),f?y():v(),!1)}f&&(clearTimeout(l),l=null,y()),p=!1}return!0})})},t.fn.addTooltip.defaults={delay:50,className:"tooltip",nub:"nub",stay:2e3,exclusive:!0,touchToggle:!1,pos:[1,2,1,0],gap:6}}(jQuery,$("body"));