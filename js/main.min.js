!function(e,t,a,s,n){"use strict";e.fn.selectable=function(t){t=e.extend({cardClass:"card",thumbClass:"thumb",checkboxClass:"checkbox",selectedClass:"checked",checkmarkClass:"icon-checkmark",hasSelectedClass:"has-selected",allSelectedClass:"all-selected",selectionChange:null},t);var a,n=e(this).eq(0),r=function(e){typeof t.selectionChange===FUNCTION&&t.selectionChange.call(e),s.toggleClass(t.hasSelectedClass,e>0).toggleClass(t.allSelectedClass,e===a.length)},l=function(){return a.filter("."+t.selectedClass).length},o=function(e){e.addClass(t.selectedClass).find("."+t.checkboxClass).addClass(t.checkmarkClass)},i=function(e){e.removeClass(t.selectedClass).find("."+t.checkboxClass).removeClass(t.checkmarkClass)},c=function(a){var s=e(a.target).closest("."+t.cardClass),n=l();return s.hasClass(t.selectedClass)?(i(s),n-=1,typeof t.selectionChange===FUNCTION&&t.selectionChange.call(n)):(o(s),n+=1,typeof t.selectionChange===FUNCTION&&t.selectionChange.call(n)),r(n),!1},d=function(){var s,r;(a=t.selector?n.find(t.selector):n.find("."+t.cardClass)).each(function(){e(this).find("span."+t.checkboxClass).length||(s=e(this).children("."+t.thumbClass).eq(0),(r=s.length?e("<span>",{class:t.checkboxClass}).appendTo(s):e("<span>",{class:t.checkboxClass}).prependTo(e(this))).on({click:c}))}),typeof t.selectionChange===FUNCTION&&t.selectionChange.call(l())};return d(),n.on({selectAll:function(){if(n.is(":visible")){var s=l();s<a.length&&(s=a.length,a.not("."+t.selectedClass).each(function(){o(e(this))}),typeof t.selectionChange===FUNCTION&&t.selectionChange.call(s)),r(s)}},selectNone:function(){if(n.is(":visible")){var s=l();s>0&&(s=0,a.filter("."+t.selectedClass).each(function(){i(e(this))}),typeof t.selectionChange===FUNCTION&&t.selectionChange.call(s)),r(s)}},selectInverse:function(){if(n.is(":visible")){var s=a.length-l();0===s?(a.each(function(){i(e(this))}),typeof t.selectionChange===FUNCTION&&t.selectionChange.call(0)):(a.each(function(){!function(e){e.hasClass(t.selectedClass)?i(e):o(e)}(e(this))}),typeof t.selectionChange===FUNCTION&&t.selectionChange.call(s)),r(s)}},selectRefresh:d}),this},e.fn.skin=function(a){a=e.extend({},e.fn.skin.defaults,a);var n,r=e(this),l=r.find("#main-cont"),o=getTranslations({foundNTimes:"found {0} time(s)",notFound:"not found",search:"Search",searchBoxTip:"Search...",newImages:"New images",results:"Results",reset:"Reset",label:"Label",selectedItems:"Selection",addCart:"Add to cart",return:"return",select:"Select",sortBy:"Sort by",sortedBy:"Sorted by",ascending:"ascending",descending:"descending",multipleSelectHint:"Use SHIFT to select range, CTRL for multiple entries",noRating:"No rating",inTheLastDay:"in the last day",inThePastNDays:"in the past {0} days",sinceMyLastVisit:"since my last visit",betweenDays:"between {0} and {1}",onDay:"on {0}",beforeDay:"before {0}",afterDay:"after {0}",imagesAdded:"Images added",imagesModified:"Images modified",imagesTaken:"Images taken",new:"New",more:"more",less:"less"}),i=e(),c=e(),d=e(),h=e(),f="tiger_skin",u="",p=a.indexName.split(".")[1]||"html",g=""!==window.location.hash,m=new Date/1e3,C="EUR",y=t.scrollTop(),v=null,b=!1,w=function(){return T().data("overlay")},T=function(e){var t=l.find("."+a.thumbnailsClass).last();return!t.length&&e&&createrOverlay(),t},x=function(){return l.find("."+a.thumbnailsClass).eq(0)},O=function(){var e=T();(e.length&&e.offset().top<t.scrollTop()||e.offset().top>t.scrollTop()+t.height()-100)&&t.scrollTop(e.offset().top)},N=function(t){if(t.length){var a=w();t.each(function(){e(this).attr("data-rel",a)})}},P=function(e){(e=e||w())&&l.find("[data-rel="+e+"]").remove()},A=function(t){var s=function(){var t=T();return t.length?t.find("header > h"+a.overlayHeadLevel).eq(0):e()}();return s.length?t.appendTo(s):e()},k=function(){return e("<div>",{class:a.progressbarClass}).insertAfter(function(){var t=T();return t.length?t.children("header").eq(0):e()}())},I=function(e){T().find("."+a.progressbarClass).remove()},E=function(){return l.find("."+a.thumbnailsClass+":not(."+a.overlayClass+")").first().children("div."+a.contClass)},R=function(e){var t=l.find("."+a.thumbnailsClass).last().children("div."+a.contClass);return!t.length&&e&&(t=M(T(!0))),t},M=function(t){var s=t||T();return e("<div>",{class:[a.contClass,a.thumbLayout,"caption-"+a.captionPlacement,a.hoverEffectThumbs?"hover-zoom":"","below"!==a.captionPlacement&&a.captionShowOnHover?"caption-on-hover":""].filter(Boolean).join(" ")}).appendTo(s)},S=function(t){var s=E();return s.length?s.find("."+a.cardClass+(t||"")):e()},D=function(t){var s=R();return s.length?s.children("."+a.cardClass+(t||"")):e()},F=function(t){var s=R();return s.length?s.children("."+a.cardClass+" ."+a.thumbClass+(t||"")):e()},H=function(){var s=T();if(s.length&&s.hasClass(a.overlayClass)){var n=s.data("oly-ns");s.trigger("removeLightbox"),P(n),s.trigger("overlayRemoved"),s.remove(),t.off("."+n),l.removeClass(a.hasOverlayClass),removeParam(a.indexName),Ce(),!function(){var t=R();return t.length?t.children("."+a.cardClass+"."+a.selectableClass):e()}().length?c.add(h).hide():c.add(h).show(),l.hideAllTooltips(),l.find("[data-sticky-rel]").trigger("stickyRefresh")}},L=function(t){H(),l.hideAllTooltips();var s=function(){var t=e("<section>",{class:a.thumbnailsClass+" "+a.overlayClass}),s=x();return s.length?s.after(t):l.prepend(t),t.attr("data-overlay","oly_"+Math.floor(1e4*Math.random())),l.addClass(a.hasOverlayClass),t}();return function(t,s){var n=e("<header>",{class:[a.contClass,a.overlayTitleClass,t&&t.hasOwnProperty("icon")?t.icon:""].filter(Boolean).join(" ")}).prependTo(s||T());t&&t.hasOwnProperty("title")&&n.append(e("<h"+a.overlayHeadLevel+">",{html:t.title})),n.append(e("<a>",{class:"close",href:"",text:o.return}).on("click",function(){return H(),!1}))}(t,s),l.trigger("overlayReady",s),l.find("[data-sticky-rel]").trigger("stickyRefresh"),s},B=function(t,s){var n,r=e();return n=typeof s!==UNDEF&&s?S():D(),t=decodeURIComponent(t),n.find("."+a.thumbClass).each(function(){var a=e(this).data("name")||function(e){var t=e.data("href")||e.attr("href");return t?t.substring(t.lastIndexOf("/")+1).replace("#img=",""):""}(e(this));if(a===t||function(e,t){return e.slice(-p.length)===p&&e.substring(0,e.lastIndexOf("."))===t.substring(0,t.lastIndexOf("."))}(a,t))return r=e(this).parent(),!1}),r},U=function(){var t=l.find("."+a.foldersClass+" ."+a.contClass);return t.length?t.find("."+a.cardClass):e()},q=function(t){var s=l.find(a.mapBoxHook).last();if(s.length&&s.is(":visible"))return s.find("."+a.mapRootClass);if(t){var n=e('<section class="map show-on-overlay"><div class="cont box"><div class="'+a.mapRootClass+'" data-map-root></div></div></section>');return s.length?s.after(n):T().before(n),N(n),n.find("."+a.mapRootClass)}return e()},G=function(){return R().find("."+a.lightboxClass)},z=function(e,t){R().trigger("lightboxLoad",typeof t===UNDEF?e:[e,t])},_=function(){var t=[];return function(){var t=R();return t.length?t.children("."+a.cardClass+"."+a.selectedClass):e()}().each(function(){t.push(e(this).data(J.OBJ))}),t},j=function(){var t=[];return D().each(function(){t.push(e(this).data(J.OBJ))}),t},V=function(s){if(b||G().is(":visible")||l.find("."+a.overlayClass).length>0)clearTimeout(v);else{v&&(clearTimeout(v),v=null);var n=t.scrollTop();if(Math.abs(n-y)>20)return y=n,void(v=setTimeout(V,a.scrollCheckInterval));var r=U(a.lazyloadClass);if(r.length){var o=t.height();b=!0,r.each(function(){var t=e(this),s=t.offset().top;if(s+t.height()>y-o){if(!(s<y+o))return!1;!function(t){t.find("[data-src]").each(function(){var s=e(this),n=t.find("img");n.length||((n=e("<img>",{class:a.hideImageClass,alt:s.data("alt")||""}).appendTo(s))[0].width=s.data("width"),n[0].height=s.data("height")),n.one("load",function(){t.removeClass(a.lazyloadClass),e(this).addClass(a.showImageClass).removeClass(a.hideImageClass)}).attr("src",s.data("src"))})}(t)}}),clearTimeout(v),v=setTimeout(V,a.scrollCheckInterval)}else t.off(".lazy");b=!1,y=n,typeof s===FUNCTION&&s.call(this)}};e.fn.renderImages=function(s,r,l){if(typeof s===UNDEF||!s.length)return this;Array.isArray(s)||(s=[s]);var c=e(this),h=w(),f=R(!0),u=t.scrollTop(),p=null,g=function(){if(!G().is(":visible")){clearTimeout(p),p=null;var s=t.scrollTop(),n=t.height();if(Math.abs(s-u)>20)return u=s,void(p=setTimeout(g,a.scrollCheckInterval));var r=D("."+a.lazyloadClass).not(":empty");(r=r.add(D("."+a.preloadClass).not(":empty").not(".icon").filter(function(){var t=e(this).find("."+a.thumbClass),s=t.find("img").eq(0);return!(!s.data("hasrenditions")||!(1.05*s[0].width<t.width()||1.05*s[0].height<t.height()))||(e(this).removeClass(a.preloadClass),!1)}))).length?(r.each(function(){var t=e(this),a=t.offset().top;if(a+t.height()>u-n){if(!(a<u+2*n))return!1;y(t)}}),u=s,p=setTimeout(g,a.scrollCheckInterval)):t.off("scroll."+h)}},C=function(t){return!("A"!==t.target.nodeName||!e(t.target).closest("."+a.commentClass).length&&!e(t.target).hasClass("folder-link"))||(z(e(t.target).closest("."+a.cardClass)),!1)},y=function(t){if(t.length){var s=t.children("."+a.thumbClass).eq(0),r=s.children("img");r.length||s.append(e("<img>",{class:a.hideImageClass})),t.hasClass(a.lazyloadClass)&&typeof r.attr("src")!==UNDEF&&!1!==r.attr("src")?s.addClass(a.showImageClass).removeClass(a.hideImageClass):(t.hasClass(a.lazyloadClass)&&r.one("load",function(){e(this).addClass(a.showImageClass).removeClass(a.hideImageClass)}),r.attr("src",n.getOptimalThumbPath(t.data(J.OBJ),[s.outerWidth(),s.outerHeight()]))),t.removeClass(a.lazyloadClass+" "+a.preloadClass)}};return h||(h="base"),function(){for(var t,r,c,u,y,v,b,w,T,x,O=D(),N=a.hasOwnProperty("markNew")?m-a.markNew.days*ONEDAY_S:null,P=0;P<s.length;P++){if(x=s[P],y="folder"===x[J.CATEGORY],v=!y&&n.isLightboxable(x),"video"===x[J.CATEGORY]||x[J.CATEGORY],b=!!x.hasOwnProperty(J.THUMB)&&/res\/\w+\.png$/.test(x[J.THUMB][J.PATH]),r=x[J.THUMB][J.WIDTH]/x[J.THUMB][J.HEIGHT],w=x[J.THUMBCAPTION],t=P<O.length?O.eq(P):e("<div>",{class:[a.cardClass,a.lazyloadClass,x[J.CATEGORY],w?"hascaption":"",x[J.THUMB][J.WIDTH]<a.maxThumbWidth&&x[J.THUMB][J.HEIGHT]<a.maxThumbHeight?"tiny":"",b?"icon":"",r>=1.25?"landscape":r<=.8?"portrait":"square"].filter(Boolean).join(" ")}).appendTo(f),(c=t.children("."+a.thumbClass)).length||(c=e("<a>",{class:a.thumbClass}).appendTo(t)),t.data(J.OBJ,x),v&&t.addClass(a.lbableClass),(u=c.find("img").eq(0)).length||(u=e("<img>",{alt:n.getAlt(x)}).appendTo(c)),x[J.THUMB].hasOwnProperty(J.RENDITIONS)?u.data("hasrenditions",!0):u.on("load."+h,function(){e(this).parents("."+a.cardClass).removeClass(a.preloadClass)}),u.addClass(a.hideImageClass).on("load."+h,function(){e(this).addClass(a.showImageClass).removeClass(a.hideImageClass)}),u[0].complete&&u.trigger("load"),b?c.addClass("iconthumb"):(u.attr({width:x[J.THUMB][J.WIDTH],height:x[J.THUMB][J.HEIGHT]}),x[J.THUMB][J.HEIGHT]/x[J.THUMB][J.WIDTH]<.5&&t.addClass(a.panoClass)),"horizontal"===a.thumbLayout&&t.css({flexBasis:Math.round(.9*x[J.THUMB][J.WIDTH])}),b&&c.addClass("iconthumb"),c.data("name")||c.attr("data-name",n.getItemName(x)),y||c.on("click."+h,C),w&&(t.children("."+a.captionClass).length||e("<div>",{class:a.captionClass,html:w}).appendTo(t),t.addClass(a.hascaptionClass)),v){if(c.data("href")||c.attr("data-href",u.attr("src")||n.getOptimalImagePath(x,[u.outerWidth(),u.outerHeight()])),c[0].hasAttribute("href")&&c.attr("href",""),(i.length&&n.hasShop(x)||d.length&&a.feedback)&&(t.addClass(a.selectableClass),i.length&&(T=e("<a>",{class:"icon-shopping-cart add-cart",text:" "+o.addCart}).on("click."+h,function(t){var s=e(t.target).closest("."+a.cardClass);return s.length&&i.trigger("addItems",s.data(J.OBJ)),!1}).appendTo(c)).addTooltip(n.getPriceRange(x))),!l&&a.linkToFolder){var A=n.getPath(x);A&&c.append(e("<a>",{class:"icon-folder folder-link",href:A+a.indexName}))}}else t.addClass(x[J.CATEGORY]),c.attr("href",n.getItemPath(x));if(null!=N&&(T=x[J.DATES])&&(T=T[a.markNew.reference])&&T>=N&&(w=a.markNew.text?e("<span>",{class:"new-image",text:a.markNew.text}):e("<span>",{class:"icon-new-fill new-image"}),c.append(w),TOUCHENABLED||w.data("tooltip",new Date(1e3*T).toLocaleDateString(LOCALE)).addTooltip()),a.useRating&&v){var k=x[J.RATING]||0;(a.visitorRating||k)&&(w=e("<span>",{class:"rating",html:STARS}).appendTo(c),a.visitorRating?(x.hasOwnProperty(J.VISITORRATING)?k=x[J.VISITORRATING]:(a.useJalbumRating||(k=0),x[J.VISITORRATING]=k),w.addClass("r"+k+(a.useJalbumRating?"":" icon-close")).on("click."+h,function(t){var s=e(this),n=Math.minMax(0,Math.floor((getCoords(t).x-s.offset().left-parseFloat(s.css("paddingLeft")))/16),5),r=s.closest("."+a.cardClass).data(J.OBJ);return s.removeClass("r0 r1 r2 r3 r4 r5").addClass("r"+n),r[J.VISITORRATING]=n,l||(s=B(r[J.NAME],!0)).find(".rating").removeClass("r0 r1 r2 r3 r4 r5").addClass("r"+n),!1})):w.addClass("r"+k))}a.rightClickProtect&&c.on("contextmenu",function(e){return e.preventDefault(),!1})}p=setTimeout(function(){g()},a.scrollCheckInterval/2)}(),c.on({setactivecard:function(s,r){!function(s){if(s){var r=e(s),l=r.data(J.OBJ),o=t.height(),i=t.scrollTop(),c=r.offset().top,d=r.outerHeight();D("."+a.activeClass).removeClass(a.activeClass),r.addClass(a.activeClass),a.hasOwnProperty("map")&&(n.hasLocation(l)?q().trigger("setActive",l[J.NAME]):q().trigger("resetMarkers")),c+d>i+o?e("html, body").stop(!0,!1).animate({scrollTop:Math.round(c-o+d+30)+"px"}):c<i&&e("html, body").stop(!0,!1).animate({scrollTop:Math.round(Math.max(c-30,0))+"px"})}}(r)},refreshRating:function(t,s,n){if(s){var r=e(s),o=r.data(J.OBJ),i=(typeof n!==UNDEF?n:a.visitorRating?o[J.VISITORRATING]:o[J.RATING])||0;r.find(".rating").removeClass("r0 r1 r2 r3 r4 r5").addClass("r"+i),l||B(o[J.NAME],!0).find(".rating").removeClass("r0 r1 r2 r3 r4 r5").addClass("r"+i)}},lazyload:g}),typeof r===FUNCTION&&(typeof l!==UNDEF?r.call(void 0,c,l):r.call(void 0,c)),this};var W=function(t,s){if(n){var r=D();if(r.length>1&&e(".filter-cont").length&&me(s),r.filter("."+a.lbableClass).length){if(n.hasShop()||a.feedback){r.filter("."+a.selectableClass).length&&(t.selectable({cardClass:a.selectableClass,selectedClass:a.selectedClass,selectionChange:function(){i.add(d).trigger("itemsSelected",this)}}),c.add(h).find("."+a.keepSelectedClass).on("click."+f,function(){return Q(o.selectedItems,function(){removeParam(),Ce()}),!1}),l.find("[data-sticky-rel]").trigger("stickyRefresh"),l.find("[data-sticky]").not("[data-sticky-rel]").sticky())}a.hasOwnProperty("map")&&(a.map.hasOwnProperty("apiKey")&&(e.fn.lightbox.defaults.mapApiKey=a.map.apiKey),a.map.hasOwnProperty("type")&&(e.fn.lightbox.defaults.mapType=a.map.type),a.map.hasOwnProperty("zoom")&&(e.fn.lightbox.defaults.mapZoom=a.map.zoom),a.map.index&&ye(j(),a.map)),t.trigger("lightboxRemove"),t.lightbox(n,{baseSet:typeof s!==UNDEF&&s,onLoadStart:function(e){var t=e.data(J.OBJ);t&&addParam(a.pageName||a.indexName,{img:n.getItemName(t)},t[J.TITLE])},onLoadEnd:function(e){t.trigger("setactivecard",e),setTimeout(Ce,100)},onClose:function(){removeParam(a.pageName||a.indexName,"img"),t.trigger("lazyload")},onReady:function(){if(g&&window.location.hash){g=!1;var t=readParam();if(t.hasOwnProperty("label"))X(t.label,function(){addParam(a.indexName,{label:t.label,search:null,newimages:null,date:null},o.label+": "+t.label)});else if(t.hasOwnProperty("search"))Z(t.search,function(){addParam(a.indexName,{search:t.search,label:null,newimages:null,date:null},o.search+": "+t.search)});else if(t.hasOwnProperty("newimages"))re(te(t.newimages),function(){addParam(a.indexName,{newimages:t.newimages,search:null,label:null,date:null},o.searchNew+": "+t.newimages)});else if(t.hasOwnProperty("date")){var s=ae(t.date);re(s,function(){addParam(a.indexName,{date:t.date,newimages:null,search:null,label:null},se(s.reference)+": "+t.date)})}else if(t.hasOwnProperty("img")){var n=B(t.img);n.length?t.hasOwnProperty("slideshow")?z(n,2e3):z(n):removeParam(a.pageName||a.indexName,"img")}else t.hasOwnProperty("slideshow")&&z(0,2e3)}e("."+a.startshowClass).fadeIn().on("click",function(){return e(this).trigger("removeTooltip"),K(),!1})},onSlideshowStart:function(){a.hasOwnProperty("backgroundMusic")&&a.backgroundMusic.slideshowControl&&e(a.backgroundMusic.hook).trigger("startPlayer")},onSlideshowPause:function(){a.hasOwnProperty("backgroundMusic")&&a.backgroundMusic.slideshowControl&&e(a.backgroundMusic.hook).trigger("pausePlayer")}})}else e("."+a.startshowClass).fadeOut()}},Y=function(){if(window.location.hash!==u){u=window.location.hash;var e=readParam();if(e.hasOwnProperty("label"))X(e.label,function(){setParam(a.indexName,{label:e.label},o.label+": "+e.label),Ce()});else if(e.hasOwnProperty("search"))Z(e.search,function(){setParam(a.indexName,{search:e.search},o.search+": "+e.search),Ce()});else if(e.hasOwnProperty("newimages"))re(te(e.newimages),function(){setParam(a.indexName,{newimages:e.newimages},o.newImages+": "+e.newimages),Ce()});else if(e.hasOwnProperty("date")){var t=ae(e.date);re(t,function(){setParam(a.indexName,{date:e.date},se(t.reference)+": "+e.date),Ce()})}else if(e.hasOwnProperty("img")){var s=B(e.img);s.length?e.hasOwnProperty("slideshow")?z(s,2e3):z(s):removeParam(a.indexName,"img")}else e.hasOwnProperty("slideshow")?z(0,2e3):(R().trigger("lightboxQuit"),H())}},K=function(t){var s=e();return a.restartSlideshow||(s=D("."+a.activeClass)),s.length||(s=D().eq(0)),a.slideshowFullscreen&&requestFullscreen(function(){G().addClass("fullscreen")}),z(s,2e3),!1},Q=function(t,s){var n=_();if(n.length&&n.length!==D("."+a.lbableClass).length){var r=L({className:"selected-items",icon:"icon-checkbox-checked",title:"&ldquo;"+t+"&rdquo;"});A(e("<small>",{text:o.foundNTimes.replace("{0}",n.length)})),O(),setTimeout(function(){r.renderImages(n,W),typeof s===FUNCTION&&s.call()},50)}},Z=function(t,s){var r=L({className:"search-results",icon:"icon-search",title:"&ldquo;"+t+"&rdquo;"});k(),O(),n.collectItems(e.extend(a.search,{exact:!1,terms:t,types:"-folder",ready:function(){A(e("<small>",{text:this.length?o.foundNTimes.replace("{0}",this.length):o.notFound})),r.renderImages(this,W),I(),typeof s===FUNCTION&&s.call()}}))},$=function(t){if(t.length&&n){a.search=e.extend({depth:"tree",fields:"creator,keywords,title,comment"},a.search);var s=function(e){var t=e.find("input").eq(0).val();return t&&t.length>1&&Z(t,function(){setParam(a.indexName,{search:t},o.search+": "+t),Ce()}),!1};t.find(".search-btn").on("click",function(){return t.hasClass(a.activeClass)?(s(t),t.removeClass(a.activeClass)):(t.find("input").eq(0).focus(),t.addClass(a.activeClass)),!1}),t.on("submit",function(e){return e.preventDefault(),s(t),t.removeClass(a.activeClass),!1}),t.find("input").on("focus",function(){t.addClass(a.activeClass)})}},X=function(t,s,r){var l=L({className:"tags-found",icon:"icon-tag",title:"&ldquo;"+t+"&rdquo;"});k(),O(),typeof s===UNDEF?s=!1:typeof s===FUNCTION&&(r=s,s=!1),n.collectItems(e.extend(a.tagCloud,{exact:a.exactFields,caseSensitive:s,terms:t,ready:function(){A(e("<small>",{text:this.length?o.foundNTimes.replace("{0}",this.length):o.notFound})),l.renderImages(this,W),I(),typeof r===FUNCTION&&r.call()}}))},ee=function(t){var s=e(a.tagCloud.hook||".tag-cloud-cont");if(s.length)if(t.length){var r=s.children("."+a.tagCloudClass),l=function(){var t=e(this).children("span").eq(0).text();return t&&t.length>1&&function(t,a,s){var r=L({className:"tags-found",icon:"icon-tag",title:"&ldquo;"+t+"&rdquo;"});k(),O(),n.collectByPath({paths:a,ready:function(){A(e("<small>",{text:this.length?o.foundNTimes.replace("{0}",this.length):o.notFound})),r.renderImages(this,W),I(),typeof s===FUNCTION&&s.call()}})}(t,e(this).data("paths"),function(){setParam(a.indexName,{label:t},o.label+": "+t),Ce()}),!1};r.length||(r=e("<div>",{class:a.tagCloudClass}).appendTo(s));for(var i,c,d,h=0,f=t.length;h<f;h++){if(i=e("<a>",{class:"tag"}).on("click",l).data("paths",t[h][1]).append(e("<span>",{html:t[h][0]})),t[h][1].length>1){if(a.tagCloud.fontVaries){for(c=0,d=Math.min(64,t[h][1].length);d>1;)c++,d>>=1;i.addClass("size-"+c)}i.append("&nbsp;").append(e("<sup>",{text:t[h][1].length}))}r.append(i)}r.outerHeight()>175&&function(t){var s;t.css({maxHeight:150,overflow:"hidden"}),(s=e("<div>",{class:"toggle-height"}).insertAfter(t)).append(e("<a>",{class:"icon-caret-down",text:o.more}).on("click",function(){var e=t.parent();e.css({height:e.height(),overflow:"hidden"}),t.css({maxHeight:"none"}),setTimeout(function(){var n=t.prop("scrollHeight");e.css({height:"auto",overflow:"visible"}),t.css({maxHeight:150}),setTimeout(function(){t.css({maxHeight:n+20})},25),s.addClass(a.activeClass)},50)})).append(e("<a>",{class:"icon-caret-up",text:o.less}).on("click",function(){t.css({maxHeight:150}),s.removeClass(a.activeClass)}))}(r),a.tagCloud.useSearch&&function(t){var s=t.find("."+a.tagSearchClass),n=function(e){var t=e.find("input").eq(0).val();return t&&t.length>1&&X(t,function(){setParam(a.indexName,{label:t},o.label+": "+t),Ce()}),!1};s.length||((s=e("<form>",{class:a.tagSearchClass}).appendTo(t)).append(e("<div>",{class:"search-input"}).append(e("<input>",{type:"text",placeholder:o.searchBoxTip,ariaLabel:o.search}))),s.append(e("<a>",{class:"search-btn icon-search"}))),s.find(".search-btn").on("click",function(){var t=e(this).closest("form");return t.find("input").eq(0).focus(),n(t),!1}),s.on("submit",function(t){return t.preventDefault(),n(e(this)),!1})}(s.parent())}else s.remove()},te=function(e){return a.hasOwnProperty("searchNew")?{reference:a.searchNew.reference||"dateTaken",depth:a.searchNew.depth||"subfolders",start:m/ONEDAY_S-e}:{reference:"dateTaken",depth:"subfolders",start:m/ONEDAY_S-e}},ae=function(e){var t=e.match(/^([amt])?([cts])?\:?(\d+)\-?(\d+)?/i),a={range:0,reference:"dateTaken",depth:"current"};return t&&(t[1]&&("a"===t[1]?a.added="added":"m"===t[1]?a.added="fileModified":"t"===t[1]&&(a.added="dateTaken")),t[2]&&("c"===t[2]?a.depth="current":"t"===t[2]?a.depth="tree":"s"===t[2]&&(a.depth="subfolders")),t[4]?(a.start=parseInt(t[3])||0,a.end=parseInt(t[4])):t[3]&&(a.start=parseInt(t[3]),a.range=1)),a},se=function(e){return"dateTaken"===e?o.imagesTaken:"fileModified"===e?o.imagesModified:o.imagesAdded},ne=function(e){var t,a=se(e.reference),s=(Math.floor(new Date/ONEDAY_MS),function(e){return new Date(e*ONEDAY_MS).toLocaleDateString(LOCALE)});return e.hasOwnProperty("end")||e.hasOwnProperty("start")?e.hasOwnProperty("end")?t=o.beforeDay.template(s(e.end)):e.hasOwnProperty("start")&&(t=e.hasOwnProperty("range")?e.range>1?o.betweenDays.template(s(e.start),s(e.start+e.range)):o.onDay.template(s(e.start)):getTimespan(m/ONEDAY_S-e.start)):t=getTimespan(e.range),a+" "+t},re=function(t,a){var s=L({className:"search-results",icon:"icon-calendar",title:ne(t)});k(),O(),n.collectByDate(e.extend(t,{ready:function(){A(e("<small>",{text:this.length?o.foundNTimes.replace("{0}",this.length):o.notFound})),s.renderImages(this,W),I(),typeof a===FUNCTION&&a.call()}}))},le=function(t){return t&&re(e.extend(a.searchNew,{start:m/ONEDAY_S-t}),function(){setParam(a.indexName,{newimages:t},se(a.searchNew.reference)),Ce()}),!1},oe=function(e,t){return e.hasOwnProperty(J.DATES)?"addedDate"===t?e[J.DATES].added:"originalDate"===t?e[J.DATES].dateTaken:e[J.DATES].fileModified:null},ie=function(t,s){var n=e(t.target).closest("form"),r=j(),l=r.length,i=[];if(n.find("select:visible,input[type=range],input[type=date]").each(function(){var t=this.name,s=n.find("label[for="+t+"]").text(),l=e(this).data("type"),o=e(this).val(),c=function(a){return"rating"===t?Math.round(a):"fileSize"===t?niceByte(a):"date"===l?new Date(1e3*a).toLocaleDateString(LOCALE):"numeric"===l?"seconds"===e(this).data("unit")?niceTime(a):"byte"===e(this).data("unit")?niceByte(a):a>=10?Math.round(a):a>=1?a.toFixed(1):a>=.1?a.toFixed(2):a:toCurrency(a,C)};if("numeric"===l||"date"===l||"financial"===l){var d=e(this).data("low"),h=e(this).data("high");if(d>this.min||h<this.max){if(t.endsWith("Date"))for(f=r.length-1;f>=0;f--)null!==(g=oe(r[f],t))&&g>=d&&g<=h||r.splice(f,1);else if(-1!==JCAMERAFIELDS.indexOf(t))if("exposureTime"===t)for(f=r.length-1;f>=0;f--)r[f].hasOwnProperty(J.CAMERA)&&r[f][J.CAMERA].hasOwnProperty(t)&&(g=getExposure(r[f][J.CAMERA][t]))&&g>=d&&g<=h||r.splice(f,1);else if(t.startsWith("focalLength"))for(f=r.length-1;f>=0;f--)r[f].hasOwnProperty(J.CAMERA)&&r[f][J.CAMERA].hasOwnProperty(t)&&!isNaN(g=parseInt(r[f][J.CAMERA][t]))&&g>=d&&g<=h||r.splice(f,1);else for(f=r.length-1;f>=0;f--)r[f].hasOwnProperty(J.CAMERA)&&r[f][J.CAMERA].hasOwnProperty(t)&&null!==(g=r[f][J.CAMERA][t])&&g>=d&&g<=h||r.splice(f,1);else if("rating"===t)for(var f=r.length-1,u=a.visitorRating?J.VISITORRATING:J.RATING;f>=0;f--)(g=r[f][u]||0)>=d&&g<=h||r.splice(f,1);else for(f=r.length-1;f>=0;f--)null!==(g=r[f][t])&&g>=d&&g<=h||r.splice(f,1);i.push(s+"="+c(d)+"&ndash;"+c(h))}}else if("SELECT"===this.nodeName&&null!==o&&o.length){if(Array.isArray(o)||(o=[o]),-1!==JCAMERAFIELDS.indexOf(t))for(f=r.length-1;f>=0;f--)r[f].hasOwnProperty(J.CAMERA)&&r[f][J.CAMERA].hasOwnProperty(t)&&null!==(g=r[f][J.CAMERA][t])&&o.includes(g)||r.splice(f,1);else for(var p,g,f=r.length-1;f>=0;f--){if(r[f].hasOwnProperty(t))if(g=r[f][t],Array.isArray(g)){p=!1;for(var m=0;m<o.length;m++)if(g.includes(o[m])){p=!0;break}if(p)continue}else if(o.includes(g))continue;r.splice(f,1)}this.multiple?i.push(t+"=["+o.join(",")+"]"):i.push(s+"="+o)}}),r.length<l){var c=L({className:"filtered-items",icon:"icon-filter",title:o.results});k(),O(),setTimeout(function(){A(e("<small>",{html:i.join(", ")+": "+o.foundNTimes.replace("{0}",r.length)})),c.on("overlayRemoved",pe),c.renderImages(r,W),I(),typeof s===FUNCTION&&s.call()},50)}return!1},ce=function(t,s){var n=this.selectedOptions[0],r=this.value;if(!n||!r)return!0;var l,i,c=j(),d=(c.length,e(n).data("sort")),h=d.type,f=d.ascending;if("numeric"===h||"financial"===h||"date"===h)if(r.endsWith("Date"))c=c.sort(function(e,t){return l=oe(e,r),i=oe(t,r),f?(l||0)-(i||0):(i||0)-(l||0)});else if(-1!==JCAMERAFIELDS.indexOf(r))c="exposureTime"===r?c.sort(function(e,t){return l=e.hasOwnProperty(J.CAMERA)&&e[J.CAMERA].hasOwnProperty(r)?e[J.CAMERA][r]:0,i=t.hasOwnProperty(J.CAMERA)&&t[J.CAMERA].hasOwnProperty(r)?t[J.CAMERA][r]:0,f?getExposure(l||0)-getExposure(i||0):getExposure(i||0)-getExposure(l||0)}):c.sort(function(e,t){return l=e.hasOwnProperty(J.CAMERA)&&e[J.CAMERA].hasOwnProperty(r)?parseFloat(e[J.CAMERA][r]):0,i=t.hasOwnProperty(J.CAMERA)&&t[J.CAMERA].hasOwnProperty(r)?parseFloat(t[J.CAMERA][r]):0,f?(l||0)-(i||0):(i||0)-(l||0)});else if("rating"===r){var u=a.visitorRating?J.VISITORRATING:J.RATING;c=c.sort(function(e,t){return f?(e[u]||0)-(t[u]||0):(t[u]||0)-(e[u]||0)})}else c=c.sort(function(e,t){return e.hasOwnProperty(r)&&t.hasOwnProperty(r)?f?parseFloat(e[r])-parseFloat(t[r]):parseFloat(t[r])-parseFloat(e[r]):f?e.hasOwnProperty(r)?1:0:t.hasOwnProperty(r)?-1:0});else c=c.sort(function(e,t){return e.hasOwnProperty(r)&&t.hasOwnProperty(r)?f?(e[r]+"").localeCompare(t[r]+""):(t[r]+"").localeCompare(e[r]+""):f?e.hasOwnProperty(r)?1:0:t.hasOwnProperty(r)?-1:0});var p=L({className:"sorted-items",icon:"icon-ordering",title:o.sortedBy+"<small>"+d.label+" ("+o[d.ascending?"ascending":"descending"]+")</small>"});return k(),setTimeout(function(){p.renderImages(c,W),p.on("overlayRemoved",ge),I(),typeof s===FUNCTION&&s.call()},50),!1},de=function(t){(typeof t===UNDEF||t.hasOwnProperty("target")?e(this).closest("form"):t).find("button[type=reset]").removeClass("disabled")},he=function(t){(typeof t===UNDEF||t.hasOwnProperty("target")?e(this).closest("form"):t).find("button[type=reset]").addClass("disabled")},fe=function(t){t.find("select").each(function(){e(this).prop("selectedIndex",this.multiple?-1:0)}),t.find("input[type=range]").each(function(){e(this).trigger("resetRange")}),he(t)},ue=function(t){return fe(e(t.target).closest("form")),!1},pe=function(){ge(),fe(e("#filters form.filter"))},ge=function(){e("#filters form.sort select").prop("selectedIndex",0)},me=function(t){var s=j(),r=n.getPropertyObject(n.getCurrentFolder(),J.FILTERS,!0),l=n.getPropertyObject(n.getCurrentFolder(),J.SORT,!0),i=e("#filters");if((r||l)&&s.length){var c,d,h,u,p,g=i.find("."+a.boxClass),m=g.find("form.filter"),C=g.find("form.sort");if(t?g.addClass(a.hideOnOverlayClass):((g=e("<div>",{class:a.contClass+" "+a.boxClass+" small-column",id:"filters_"+w()}).appendTo(i)).append(e("<h4>",{class:"icon-"+(r?"filter":"ordering"),text:i.find("h4").text()})),r&&(m=e("<form>",{class:"filter"}).appendTo(g)),l&&(C=e("<form>",{class:"sort"}).appendTo(g)),N(g)),u=e("<div>",{class:"buttons"}).appendTo(m),r){r=function(e,t){if(t&&e.length){var s=function(e,t){e.hasOwnProperty("min")&&e.hasOwnProperty("min")?e.min>t?e.min=t:e.max<t&&(e.max=t):e.min=e.max=t};for(var n in t){var r=t[n],l=r.type;if("numeric"===l||"date"===l||"financial"===l)if(n.endsWith("Date"))for(o=e.length-1;o>=0;o--)null!==(c=oe(e[o],n))&&s(r,c);else if(-1!==JCAMERAFIELDS.indexOf(n))if("exposureTime"===n)for(o=e.length-1;o>=0;o--)e[o].hasOwnProperty(J.CAMERA)&&e[o][J.CAMERA].hasOwnProperty(n)&&(c=getExposure(e[o][J.CAMERA][n]))&&s(r,c);else if(n.startsWith("focalLength"))for(o=e.length-1;o>=0;o--)e[o].hasOwnProperty(J.CAMERA)&&e[o][J.CAMERA].hasOwnProperty(n)&&!isNaN(c=parseInt(e[o][J.CAMERA][n]))&&s(r,c);else for(o=e.length-1;o>=0;o--)e[o].hasOwnProperty(J.CAMERA)&&e[o][J.CAMERA].hasOwnProperty(n)&&null!==(c=e[o][J.CAMERA][n])&&s(r,c);else if("rating"===n)for(var o=e.length-1,i=a.visitorRating?J.VISITORRATING:J.RATING;o>=0;o--)s(r,c=e[o][i]||0);else for(o=e.length-1;o>=0;o--)null!==(c=e[o][n])&&s(r,c);else if(r.hasOwnProperty("values")||(r.values=[]),-1!==JCAMERAFIELDS.indexOf(n))for(o=0;o<e.length;o++)e[o].hasOwnProperty(J.CAMERA)&&e[o][J.CAMERA].hasOwnProperty(n)&&pushNew(r.values,(e[o][J.CAMERA][n]+"").trim());else for(var c,o=0;o<e.length;o++)e[o].hasOwnProperty(n)&&pushNew(r.values,e[o][n])}return t}}(s,r);var y;for(var v in r){if(h=r[v].type,c=e("<div>",{class:"group "+("multiple_string"===h||"single_string"===h?"select":"range")}).insertBefore(u),r[v].label&&e("<label>",{for:v,text:r[v].label}).appendTo(c),"multiple_string"===h||"single_string"===h)if("rating"===v&&(r[v].values=[o.noRating,1,2,3,4,5]),d=e("<select>",{name:v}).appendTo(c),"multiple_string"===h&&(d.attr("multiple",!0),d.addTooltip(o.multipleSelectHint)),r[v].hasOwnProperty("values")&&r[v].values.length){if("single_string"===h&&d.prepend(e("<option>",{text:o.select,disabled:"",selected:""})),r[v].values)for(var b=0;b<r[v].values.length;b++)d.append(e("<option>",{text:r[v].values[b]}));d.on("change",de)}else c.remove();else d=e("<input>",{name:v,type:"range"}).data("type",h).prependTo(c),"rating"===v&&(r[v].step=1,r[v].min=0,r[v].max=5),r[v].hasOwnProperty("min")&&r[v].hasOwnProperty("max")&&r[v].min!==r[v].max?("financial"===h&&(y=r[v].label.match(/\S+\s+[\(\[](\S+)[\)\]]/))?r[v].currency=y[1]:"numeric"===h&&("exposureTime.shutterSpeed".indexOf(v)>=0?r[v].unit="seconds":"fileSize"===v&&(r[v].unit="byte",r[v].step=1)),r[v].onChanged=de,r[v].onReseted=he,d.rangeSlider(r[v])):c.remove();d.attr("data-type",h||"single_string")}(d=m.find("input,select")).length&&(m.data("single",1===d.length&&"SELECT"===d[0].nodeName&&!d.attr("multiple")),t&&m.data("single")||(p=e("<button>",{type:"reset",class:(t?"disabled secondary":"alert")+" button",text:" "+o.reset}).appendTo(u),t?p.on("click."+f,ue):p.on("click."+f,function(){pe(),H()})),m.data("single")?d.on("change."+f,ie):((p=m.find("button[type=submit]")).length||(p=e("<button>",{type:"submit",class:"button",text:" "+o.search}).appendTo(u)),p.on("click."+f,ie)),m.on("submit."+f,ie))}if(u.is(":empty")&&u.remove(),l){e("<label>",{class:"icon-ordering",for:"sortby",text:" "}).appendTo(C),(d=e("<select>",{class:"small",name:"sortby"}).appendTo(C)).prepend(e("<option>",{text:o.sortBy,disabled:"",selected:""}));for(var T in l)d.append(e("<option>",{html:"&#8613; "+l[T].label,value:T}).data("sort",{type:l[T].type,label:l[T].label,ascending:!0})),d.append(e("<option>",{html:"&#8615; "+l[T].label,value:T}).data("sort",{type:l[T].type,label:l[T].label,asc:!1}));d.on("change."+f,ce)}C.length&&!C.is(":empty")||m.length&&!m.is(":empty")||i.hide()}else t&&i.hide()},Ce=function(){a.hasOwnProperty("share")&&!G().is(":visible")&&e(a.share.hook).trigger("updateLinks")},ye=function(e,t){var a;(a=function(e){for(var t,a=[],s=0;s<e.length;s++)(t=n.getLocation(e[s]))&&a.push({title:[s+1+".",e[s].title,e[s].comment].filter(Boolean).join(" "),pos:t,link:e[s].path});return a}(e)).length&&q(!0).addMap({apiKey:t.apiKey,type:t.type||"hybrid",zoom:t.zoom||15,markers:a,autoLoad:!0,fullscreenControl:!0,onMarkerClick:function(){if(this.hasOwnProperty("link")){var e=B(this.link);e.length&&(isFullscreen()&&exitFullscreen(),G().is(":visible")||T().trigger("setactivecard",e),z(e))}}})},ve=function(){a.hasOwnProperty("tagCloud")&&"current"!==a.tagCloud.depth&&n.collectTags(e.extend(a.tagCloud,{exact:a.exactFields,ready:function(){ee(this)}})),a.hasOwnProperty("search")&&$(e(a.search.hook)),a.hasOwnProperty("searchNew")&&function(t){if(t.length&&n){a.searchNew=e.extend({days:"3,30,90",depth:"folder",reference:"dateTaken",sinceLastVisit:!0},a.searchNew);var s=a.searchNew.days.split(",");t.append(e("<label>",{text:se(a.searchNew.reference)})),t=e("<div>",{class:"buttons"}).appendTo(t);for(var r=0;r<s.length;r++)t.append(e("<a>",{class:"small button",text:getTimespan(s[r])}).data("days",parseInt(s[r],10)).on("click",function(){le(e(this).data("days"))}));if(a.searchNew.sinceLastVisit){var l=e.cookie("lastVisit"),i=Math.round(new Date/1e3);l&&l<i-ONEDAY_S&&t.append(e("<a>",{class:"small button",text:o.sinceMyLastVisit}).on("click",function(){le((i-l)/ONEDAY_S)})),e.cookie("lastVisit",i,31536e4)}}}(e(a.searchNew.hook))},be=function(){if(n){var t,s,r=n.getFolders(),l=a.markNew.days*ONEDAY_S;U().each(function(n){n<r.length&&(s=r[n][J.DATES])&&(s=s[a.markNew.reference]||s[J.DATERANGE][1]||s[J.DATERANGE][0])&&m-s<l&&(t=a.markNew.text?e("<span>",{class:"new-image",text:a.markNew.text}):e("<span>",{class:"icon-new-fill new-image"}),TOUCHENABLED||t.data("tooltip",new Date(1e3*s).toLocaleDateString(LOCALE)).addTooltip(),e(this).find("."+a.thumbClass).eq(0).append(t))})}},we=function(){var t=U();t.length&&(a.hasOwnProperty("markNew")&&setTimeout(be,300),setTimeout(function(){V(),t.filter("."+a.preloadClass+":first-child img").on("load",function(){e(this).parents("."+a.preloadClass).removeClass(a.preloadClass)})},500))};return window.location.search&&removeSearch(),restoreScrollPosition(),e(window).on("beforeunload."+f,saveScrollPosition),passDefaults(a,e.fn.lightbox.defaults,"indexName,level,previousFoldersLast,previousFolderPath,nextFoldersFirst,nextFolderPath,extraSizes,lightboxFullscreen,slideshowFullscreen,rightClickProtect,enableKeyboard,enableMouseWheel,useRating,visitorRating,lbableClass"),passDefaults(a.lightbox,e.fn.lightbox.defaults),function(t){typeof Album===UNDEF&&console.log("Critical Error: Missing jalbum.album.js library!");var s={makeDate:a.makeDate,rootPath:a.rootPath,relPath:a.relPath,ready:"index"===a.pageType?function(){if(n){var t=n.getImages();F().each(function(){var t=e(this).find("a");t.data("href",t.attr("href")),t.attr("href","")}),we(),e.fn.hasOwnProperty("paypal")&&n.hasShop()&&(i=e("#shop-root"),c=e("#shop .box"),e.fn.paypal.defaults.relPath=a.relPath,e.fn.paypal.defaults.rootPath=a.rootPath,C=n.getCurrency(),e.fn.hasOwnProperty("rangeSlider")&&(e.fn.rangeSlider.defaults.currency=C),i.length&&(i.paypal(n,{getSelected:function(){return _()},selectNone:function(){R().trigger("selectNone")},getCurrent:function(){return getCurrentItem()}}),i.find("."+a.addSelectedClass).on("click",function(){return i.trigger("addItems",_()),R().trigger("selectNone"),!1}),e.fn.lightbox.defaults.hasOwnProperty("shop")||(e.fn.lightbox.defaults.shop={}),e.fn.lightbox.defaults.shop.root=i)),a.hasOwnProperty("feedback")&&(d=e("#feedback-root"),h=e("#feedback .box"),e.fn.feedback.defaults.relPath=a.relPath,e.fn.feedback.defaults.rootPath=a.rootPath,d.length&&(a.feedback.getSelected=function(){return _()},a.feedback.selectNone=function(){R().trigger("selectNone")},a.feedback.getCurrent=function(){return getCurrentItem()},d.feedback(n,a.feedback),d.find("."+a.addSelectedClass).on("click",function(){return d.trigger("addItems",_()),R().trigger("selectNone"),!1}),e.fn.lightbox.defaults.hasOwnProperty("feedback")||(e.fn.lightbox.defaults.feedback={}),e.fn.lightbox.defaults.feedback.root=d)),c.add(h).find("."+a.selectAllClass).on("click",function(){return R().trigger("selectAll"),!1}),c.add(h).find("."+a.selectNoneClass).on("click",function(){return R().trigger("selectNone"),!1}),t.length?(R().renderImages(t,W,!0),e(a.startSlideshowHook).on("click",K)):(window.location.hash&&Y(),e(a.startSlideshowHook).hide()),a.hasOwnProperty("tagCloud")&&"current"===a.tagCloud.depth&&n.collectTags(e.extend(a.tagCloud,{exact:a.exactFields,ready:function(){ee(this)}}));var s=e("[data-jalbum-query]");if(s.length){var r=s.data("jalbum-query");r.hasOwnProperty("fn")&&n[r.fn](e.extend(r,{ready:function(t){for(var l,o=0,i=Math.min(this.length,10);o<i;o++)l=this[o],e("<a>",{href:n.getLink(l)}).appendTo(s).append(e("<img>",{src:n.getThumbPath(l),width:l[J.THUMB][J.WIDTH],height:l[J.THUMB][J.HEIGHT],alt:l[J.TITLE]||l[J.NAME]}));this.length>10&&s.append(e("<a>",{class:"more",href:r.linkMore,text:"+"+(this.length-10)})),a.rightClickProtect&&s.on("contextmenu","img",function(e){return e.preventDefault(),!1})}}))}}}:function(){a.hasOwnProperty("search")&&$(e(a.search.hook)),a.pageName=window.location.pathname.getFile();var t=[];D().each(function(){var s=e(this).find("."+a.thumbClass);s.data("href",s.attr("href")),s.attr("href",""),t.push(e(this).data(J.PATH))}),t.length&&n.collectByPath({paths:t,ready:function(){this.length&&(x().renderImages(this,W,!0),a.hasOwnProperty("map")&&ye(this,a.map))}})},loadDeep:a.hasOwnProperty("tagCloud")&&"current"!==a.tagCloud.depth,deepReady:ve};a.indexName!==e.fn.skin.defaults.indexName&&(s.indexName=a.indexName),a.audioPoster!==e.fn.skin.defaults.audioPoster&&(s.audioPoster=a.audioPoster),a.videoPoster!==e.fn.skin.defaults.videoPoster&&(s.videoPoster=a.videoPoster),n=new Album(e,s)}(),a.rightClickProtect&&F().add(U()).on("contextmenu","img",function(e){return e.preventDefault(),!1}),a.hasOwnProperty("share")&&function(t){e.fn.renderShares.defaults.buttonTheme=t.buttonTheme||"dark",e.fn.renderShares.defaults.indexName=a.indexName,e.fn.renderShares.defaults.facebookAppId=t.facebookAppId||"",t.hasOwnProperty("callAction")&&(e.fn.renderShares.defaults.callAction=t.callAction),e(t.hook).renderShares(t),e.fn.lightbox.defaults.share=t.sites,t.hasOwnProperty("sites")&&(e.fn.lightbox.defaults.shareHook=t.hook)}(a.share),function(e){e.length&&e.audioPlayer({rootPath:a.rootPath})}(e("[data-audioPlayer]")),t.on("hashchange."+f,Y),r.on("overlayReady."+f,function(e,t){moveInView(t)}),e("[data-topnav-toggle]").on({click:function(){return s.toggleClass("menu-on"),!1},selectstart:function(e){return e.preventDefault(),!1}}),a.scrollToTopButton&&s.scrollToTopBtn(),this.getAlbum=function(){return n},this},e.fn.skin.defaults={contentClass:"content",contClass:"cont",startSlideshowHook:".hero .start-show",hasOverlayClass:"has-overlay",baseClass:"base-overlay",hideOnOverlayClass:"hide-on-overlay",overlayClass:"overlay",overlayTitleClass:"title",overlayHeadLevel:3,progressbarClass:"progressbar",lightboxClass:"lightbox",sliderClass:"slider",belowfoldClass:"below-fold",foldersClass:"folders",folderClass:"folder",thumbnailsClass:"thumbnails",thumbClass:"thumb",boxClass:"box",mapBoxHook:"section.map",mapRootClass:"map-root",tagCloudClass:"tag-cloud",tagSearchClass:"tag-search",thumbLayout:"fixgrid",hoverEffectThumbs:!0,columns:5,maxThumbWidth:212,maxThumbHeight:170,imageClass:"image",captionClasses:"over bottom hover",cardClass:"card",folderCardClass:"foldercard",mosaicClass:"mosaic",captionPlacement:"below",lbableClass:"lbable",captionClass:"caption",commentClass:"comment",hascaptionClass:"hascaption",selectableClass:"selectable",selectedClass:"checked",activeClass:"active",preloadClass:"preload",lazyloadClass:"lazyload",hideImageClass:"hide-image",showImageClass:"show-image",startshowClass:"start-btn",fullscreenClass:"fullscreen",panoClass:"pano",selectBoxClass:"select-box",selectAllClass:"select-all",selectNoneClass:"select-none",keepSelectedClass:"keep-selected",addSelectedClass:"add-selected",indexName:"index.html",audioPoster:"audio.poster.png",videoPoster:"video.poster.png",exactFields:"creator,keywords",dateFormat:"M/d/yyyy",lightboxFullscreen:!1,slideshowFullscreen:!1,rightClickProtect:!1,useRating:!1,jalbumRating:!1,visitorRating:!1,enableKeyboard:!0,videoAuto:!0,linkToFolder:!0,scrollToTopButton:!0}}(jQuery,jQuery(window),jQuery(document),jQuery("body"));